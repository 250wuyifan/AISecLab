{% extends "base.html" %}
{% load static %}

{% block content %}
<main class="container-fluid px-3 pt-2 pb-3" style="max-width:1200px;margin:0 auto">
    <div class="d-flex align-items-center gap-2 mb-2">
        <a href="{% url 'playground:lab_list' %}" class="btn btn-outline-secondary btn-sm" style="font-size:11px;padding:2px 8px">← 靶场</a>
        <h1 class="mb-0 fw-bold" style="font-size:1.1rem">关于靶场</h1>
    </div>

    <div class="row g-2">
        <div class="col-md-6">
            <div class="card border-0 mb-2">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">🛡️ 靶场是什么</h6>
                    <p class="text-muted mb-0" style="font-size:0.78rem;line-height:1.5">
                        <strong>AI 安全靶场</strong>是面向 AI 安全学习的 Web 平台。涵盖 Prompt 安全、Agent 安全（记忆投毒、工具调用、MCP）、RAG 投毒、多模态攻击、输出安全（RCE/SSTI/XSS）、工具漏洞（SSRF/SQLi/XXE 等），以及 DVMCP 实战挑战和红队工具。
                    </p>
                </div>
            </div>
            <div class="card border-0 mb-2">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">🎯 靶场目的</h6>
                    <ul class="mb-0 text-muted" style="font-size:0.78rem;line-height:1.5;padding-left:1.2rem">
                        <li>帮助安全从业者<strong>理解 AI 系统风险</strong>（提示注入、越狱、工具投毒、数据泄露等）</li>
                        <li>通过<strong>可动手的靶场环境</strong>安全地复现攻击与防御</li>
                        <li>结合<strong>知识库与演练</strong>形成「学—练—测」闭环</li>
                    </ul>
                </div>
            </div>
            <div class="card border-0 mb-2">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">⚠️ 不足与局限</h6>
                    <ul class="mb-0 text-muted" style="font-size:0.78rem;line-height:1.5;padding-left:1.2rem">
                        <li>攻击场景做了简化，与真实业务环境有差异</li>
                        <li>模型能力因版本/规模不同表现不一</li>
                        <li>红队工具需自行安装配置</li>
                        <li>覆盖面和难度仍在完善中</li>
                    </ul>
                </div>
            </div>
            <div class="card border-0 mb-2" style="border-left:3px solid var(--primary-color) !important">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">🤝 欢迎共建</h6>
                    <p class="text-muted mb-0" style="font-size:0.78rem;line-height:1.5">
                        欢迎通过 Issue / PR 补充知识点、新增靶场、修复 Bug、改进文档。
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card border-0 mb-2">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">🖥️ 本地搭建大模型（Ollama）</h6>
                    <div style="font-size:0.78rem;line-height:1.5" class="text-muted">
                        <p class="mb-1">靶场实验需要调用大模型，推荐用 <strong>Ollama</strong> 本地跑模型。</p>
                        <p class="mb-1"><strong>1. 安装：</strong><a href="https://ollama.com" target="_blank">ollama.com</a> 或 <code style="font-size:11px">curl -fsSL https://ollama.com/install.sh | sh</code></p>
                        <p class="mb-1"><strong>2. 启动：</strong><code style="font-size:11px">ollama serve</code></p>
                        <p class="mb-1"><strong>3. 拉取模型：</strong></p>
                        <div class="table-responsive mb-1">
                            <table class="table table-sm table-bordered mb-0" style="font-size:0.72rem">
                                <thead class="table-light"><tr><th>类型</th><th>模型</th><th>大小</th><th>命令</th></tr></thead>
                                <tbody>
                                    <tr><td>文本</td><td><code>qwen2.5:32b</code></td><td>19GB</td><td><code>ollama pull qwen2.5:32b</code></td></tr>
                                    <tr><td>多模态</td><td><code>qwen3-vl:32b</code></td><td>20GB</td><td><code>ollama pull qwen3-vl:32b</code></td></tr>
                                    <tr class="table-secondary"><td>轻量</td><td><code>qwen2.5:7b</code></td><td>4.7GB</td><td><code>ollama pull qwen2.5:7b</code></td></tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="mb-1"><strong>4. 查看模型：</strong><code style="font-size:11px">ollama list</code></p>
                        <p class="mb-0"><strong>5. 配置：</strong>靶场默认本地 Ollama，多模态改模型名为 <code>qwen3-vl:32b</code>，云端 API 改地址和 Key 即可。</p>
                    </div>
                </div>
            </div>
            <div class="card border-0 mb-2">
                <div class="card-body" style="padding:10px 14px">
                    <h6 class="fw-bold mb-1" style="font-size:0.85rem">🐳 DVMCP Docker 环境</h6>
                    <div style="font-size:0.78rem;line-height:1.5" class="text-muted">
                        <p class="mb-1"><strong>DVMCP</strong> 是 10 关 MCP 协议安全挑战，需 Docker 启动漏洞 MCP 服务。</p>
                        <ol class="mb-0" style="padding-left:1.2rem">
                            <li class="mb-1">克隆 <a href="https://github.com/250wuyifan/damn-vulnerable-MCP-server-CN" target="_blank">dvmcp 项目</a></li>
                            <li class="mb-1">构建运行：<code style="font-size:11px">docker build -t dvmcp . && docker run -d --name dvmcp -p 9001-9010:9001-9010 dvmcp</code></li>
                            <li class="mb-1">确认：<code style="font-size:11px">docker ps</code> 看到 dvmcp 容器</li>
                            <li class="mb-0">回到靶场 → DVMCP 实战靶场开始挑战</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}
