{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<style>
/* çº¢é˜Ÿå·¥å…·é¡µ - å…¨å±å¸ƒå±€ */
.redteam-main {
    margin-left: 0 !important;
    max-width: 100% !important;
}

.redteam-main ~ .sidebar,
#sidebarMenu {
    display: none !important;
}

/* é¡µé¢å¤´éƒ¨ */
.redteam-header {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.05), rgba(245, 158, 11, 0.05));
    border-bottom: 1px solid var(--border-color);
    padding: 2.5rem 0;
    margin-bottom: 2rem;
    position: relative;
}

.redteam-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #ef4444, #f59e0b, #22c55e, #3b82f6);
}

html[data-theme="dark"] .redteam-header {
    background: linear-gradient(135deg, rgba(239, 68, 68, 0.1), rgba(245, 158, 11, 0.05));
}

.redteam-title {
    font-size: 2.25rem;
    font-weight: 800;
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.5rem;
}

.redteam-title-icon {
    font-size: 2.5rem;
}

.redteam-subtitle {
    color: var(--muted);
    font-size: 1rem;
    max-width: 700px;
}

/* å·¥å…·å¡ç‰‡ */
.tool-card {
    background: var(--surface);
    border: 1px solid var(--border-color);
    border-radius: 16px;
    padding: 1.5rem;
    height: 100%;
    transition: all 0.3s ease;
    text-decoration: none;
    color: inherit;
    display: block;
}

.tool-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.1);
    border-color: var(--primary-color);
}

html[data-theme="dark"] .tool-card:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
}

.tool-icon {
    width: 60px;
    height: 60px;
    border-radius: 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 2rem;
    margin-bottom: 1rem;
}

.tool-icon.garak { background: rgba(239, 68, 68, 0.1); }
.tool-icon.payload { background: rgba(245, 158, 11, 0.1); }
.tool-icon.pyrit { background: rgba(59, 130, 246, 0.1); }
.tool-icon.textattack { background: rgba(34, 197, 94, 0.1); }
.tool-icon.llmguard { background: rgba(139, 92, 246, 0.1); }

.tool-name {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.tool-desc {
    color: var(--muted);
    font-size: 0.9rem;
    margin-bottom: 1rem;
    line-height: 1.6;
}

.tool-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.tool-tag {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    background: var(--bg-2);
}

.tool-tag.scanner { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
.tool-tag.payload { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
.tool-tag.detection { background: rgba(34, 197, 94, 0.1); color: #22c55e; }
.tool-tag.attack { background: rgba(59, 130, 246, 0.1); color: #3b82f6; }

/* çŠ¶æ€æ ‡ç­¾ */
.tool-status {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 0.7rem;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
}

.tool-status.ready { background: rgba(34, 197, 94, 0.1); color: #22c55e; }
.tool-status.coming { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }

/* åˆ†ç±»åŒºå— */
.tool-section {
    margin-bottom: 3rem;
}

.tool-section-title {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1.5rem;
    padding-bottom: 0.75rem;
    border-bottom: 2px solid var(--border-color);
}
</style>
{% endblock %}

{% block content %}
<main class="redteam-main">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="redteam-header">
        <div class="container">
            <div class="d-flex justify-content-between align-items-start">
                <div>
                    <h1 class="redteam-title">
                        <span class="redteam-title-icon">ğŸ”´</span>
                        AI çº¢é˜Ÿå·¥å…·ç®±
                    </h1>
                    <p class="redteam-subtitle">
                        é›†æˆä¸šç•Œä¸»æµçš„ LLM å®‰å…¨æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒæœ¬åœ°å¤§æ¨¡å‹æ‰«æã€è¶Šç‹±æµ‹è¯•ã€å¯¹æŠ—æ”»å‡»ç­‰ã€‚
                        äº†è§£æ”»å‡»ï¼Œæ‰èƒ½æ›´å¥½åœ°é˜²å¾¡ã€‚
                    </p>
                </div>
                <a href="{% url 'playground:lab_list' %}" class="btn btn-outline-secondary">
                    â† è¿”å›é¶åœºåˆ—è¡¨
                </a>
            </div>
        </div>
    </div>

    <div class="container pb-5">
        <!-- æ¼æ´æ‰«æå™¨ -->
        <div class="tool-section">
            <h2 class="tool-section-title">
                <span>ğŸ”</span>
                æ¼æ´æ‰«æå™¨
            </h2>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'playground:garak_scanner' %}" class="tool-card" style="position: relative;">
                        <span class="tool-status ready">å¯ç”¨</span>
                        <div class="tool-icon garak">ğŸ¦ˆ</div>
                        <div class="tool-name">Garak Scanner</div>
                        <div class="tool-desc">
                            LLM æ¼æ´æ‰«æå™¨ï¼Œè‡ªåŠ¨æµ‹è¯•æç¤ºæ³¨å…¥ã€è¶Šç‹±ã€ä¿¡æ¯æ³„éœ²ç­‰å¤šç§æ”»å‡»å‘é‡ã€‚
                            æ”¯æŒæœ¬åœ° Ollama æ¨¡å‹ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag scanner">æ‰«æå™¨</span>
                            <span class="tool-tag attack">è‡ªåŠ¨åŒ–æµ‹è¯•</span>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tool-card" style="position: relative; opacity: 0.7;">
                        <span class="tool-status coming">å³å°†æ¨å‡º</span>
                        <div class="tool-icon llmguard">ğŸ›¡ï¸</div>
                        <div class="tool-name">LLM Guard</div>
                        <div class="tool-desc">
                            è¾“å…¥/è¾“å‡ºå®‰å…¨æ‰«æå™¨ï¼Œå®æ—¶æ£€æµ‹æç¤ºæ³¨å…¥ã€æ•æ„Ÿä¿¡æ¯æ³„éœ²ã€æœ‰å®³å†…å®¹ç­‰ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag detection">æ£€æµ‹</span>
                            <span class="tool-tag scanner">æ‰«æå™¨</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payload åº“ -->
        <div class="tool-section">
            <h2 class="tool-section-title">
                <span>ğŸ’£</span>
                æ”»å‡» Payload åº“
            </h2>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'playground:jailbreak_payloads' %}" class="tool-card" style="position: relative;">
                        <span class="tool-status ready">å¯ç”¨</span>
                        <div class="tool-icon payload">ğŸ”“</div>
                        <div class="tool-name">è¶Šç‹± Payload åº“</div>
                        <div class="tool-desc">
                            æ”¶é›†æ•´ç†çš„ LLM è¶Šç‹±æç¤ºè¯ï¼ŒæŒ‰ç±»å‹åˆ†ç±»ï¼ˆDANã€è§’è‰²æ‰®æ¼”ã€ç¼–ç ç»•è¿‡ç­‰ï¼‰ï¼Œ
                            æ”¯æŒä¸€é”®æµ‹è¯•ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag payload">Payload</span>
                            <span class="tool-tag attack">è¶Šç‹±</span>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="tool-card" style="position: relative; opacity: 0.7;">
                        <span class="tool-status coming">å³å°†æ¨å‡º</span>
                        <div class="tool-icon payload">ğŸ’‰</div>
                        <div class="tool-name">æ³¨å…¥ Payload åº“</div>
                        <div class="tool-desc">
                            æç¤ºæ³¨å…¥æ”»å‡» Payload é›†åˆï¼ŒåŒ…å«ç›´æ¥æ³¨å…¥ã€é—´æ¥æ³¨å…¥ã€ä¸Šä¸‹æ–‡åŠ«æŒç­‰ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag payload">Payload</span>
                            <span class="tool-tag attack">æ³¨å…¥</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- é«˜çº§å·¥å…· -->
        <div class="tool-section">
            <h2 class="tool-section-title">
                <span>ğŸ§ª</span>
                é«˜çº§çº¢é˜Ÿå·¥å…·
            </h2>
            <div class="row g-4">
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'playground:advanced_tools' %}" class="tool-card" style="position: relative;">
                        <span class="tool-status ready">å¯ç”¨</span>
                        <div class="tool-icon pyrit">ğŸ”¬</div>
                        <div class="tool-name">PyRIT (Microsoft)</div>
                        <div class="tool-desc">
                            å¾®è½¯å¼€æºçš„ AI çº¢é˜Ÿå·¥å…·ï¼Œæ”¯æŒå¤šç§æ”»å‡»ç­–ç•¥ã€å¯¹è¯æ ‘ç”Ÿæˆã€è‡ªåŠ¨åŒ–è¯„ä¼°ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag attack">çº¢é˜Ÿ</span>
                            <span class="tool-tag scanner">è‡ªåŠ¨åŒ–</span>
                        </div>
                    </a>
                </div>
                <div class="col-lg-4 col-md-6">
                    <a href="{% url 'playground:advanced_tools' %}" class="tool-card" style="position: relative;">
                        <span class="tool-status ready">å¯ç”¨</span>
                        <div class="tool-icon textattack">ğŸ“</div>
                        <div class="tool-name">TextAttack</div>
                        <div class="tool-desc">
                            NLP å¯¹æŠ—æ”»å‡»æ¡†æ¶ï¼Œæ”¯æŒåŒä¹‰è¯æ›¿æ¢ã€å­—ç¬¦æ‰°åŠ¨ã€è¯­ä¹‰ä¿æŒæ”»å‡»ç­‰ã€‚
                        </div>
                        <div class="tool-tags">
                            <span class="tool-tag attack">å¯¹æŠ—</span>
                            <span class="tool-tag attack">NLP</span>
                        </div>
                    </a>
                </div>
            </div>
        </div>

        <!-- ä½¿ç”¨è¯´æ˜ -->
        <div class="card mt-4">
            <div class="card-header d-flex align-items-center">
                <span class="me-2">ğŸ“–</span>
                <strong>ä½¿ç”¨è¯´æ˜</strong>
            </div>
            <div class="card-body">
                <div class="row">
                    <div class="col-md-4">
                        <h6>ğŸ”§ ç¯å¢ƒå‡†å¤‡</h6>
                        <p class="small text-muted">
                            ç¡®ä¿æœ¬åœ°å·²å®‰è£… Ollama å¹¶è¿è¡Œæ¨¡å‹ã€‚æ¨èä½¿ç”¨ qwen2.5:7b æˆ–æ›´å¤§çš„æ¨¡å‹ã€‚
                        </p>
                    </div>
                    <div class="col-md-4">
                        <h6>ğŸ¯ é€‰æ‹©å·¥å…·</h6>
                        <p class="small text-muted">
                            æ ¹æ®æµ‹è¯•ç›®æ ‡é€‰æ‹©åˆé€‚çš„å·¥å…·ã€‚æ‰«æå™¨é€‚åˆå…¨é¢æ£€æµ‹ï¼ŒPayload åº“é€‚åˆå®šå‘æµ‹è¯•ã€‚
                        </p>
                    </div>
                    <div class="col-md-4">
                        <h6>ğŸ“Š åˆ†æç»“æœ</h6>
                        <p class="small text-muted">
                            æµ‹è¯•å®Œæˆåï¼Œåˆ†ææ¼æ´æŠ¥å‘Šï¼Œäº†è§£æ¨¡å‹çš„å®‰å…¨è¾¹ç•Œå’Œæ½œåœ¨é£é™©ã€‚
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>
{% endblock %}
