{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'playground/css/lab_detail.css' %}">
<style>
.tool-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:0.5rem; }
.tool-card { background:var(--surface); border:1px solid var(--border-color); border-radius:6px; padding:0.5rem 0.7rem; transition:all 0.2s; text-decoration:none; color:inherit; display:block; position:relative; }
.tool-card:hover { transform:translateY(-2px); box-shadow:0 4px 12px rgba(0,0,0,0.08); border-color:var(--primary-color); }
html[data-theme="dark"] .tool-card:hover { box-shadow:0 4px 16px rgba(0,0,0,0.3); }
.tool-card .tool-icon { width:30px; height:30px; border-radius:6px; display:flex; align-items:center; justify-content:center; font-size:1rem; margin-bottom:0.25rem; }
.tool-card .tool-icon.garak { background:rgba(239,68,68,0.1); }
.tool-card .tool-icon.payload { background:rgba(245,158,11,0.1); }
.tool-card .tool-icon.pyrit { background:rgba(59,130,246,0.1); }
.tool-card .tool-icon.textattack { background:rgba(34,197,94,0.1); }
.tool-card .tool-icon.mcpscan { background:rgba(59,130,246,0.1); }
.tool-card .tool-icon.llmguard { background:rgba(139,92,246,0.1); }
.tool-card .tool-name { font-size:0.82rem; font-weight:700; margin-bottom:0.1rem; }
.tool-card .tool-desc { font-size:0.72rem; color:var(--muted); line-height:1.4; margin-bottom:0.3rem; }
.tool-card .tool-tags { display:flex; flex-wrap:wrap; gap:0.2rem; }
.tool-card .tool-tag { font-size:0.62rem; padding:1px 5px; border-radius:3px; }
.tool-card .tool-tag.scanner { background:rgba(239,68,68,0.1); color:#ef4444; }
.tool-card .tool-tag.payload { background:rgba(245,158,11,0.1); color:#f59e0b; }
.tool-card .tool-tag.detection { background:rgba(34,197,94,0.1); color:#22c55e; }
.tool-card .tool-tag.attack { background:rgba(59,130,246,0.1); color:#3b82f6; }
.tool-card .tool-status { position:absolute; top:0.3rem; right:0.3rem; font-size:0.6rem; padding:1px 5px; border-radius:3px; }
.tool-card .tool-status.ready { background:rgba(34,197,94,0.1); color:#22c55e; }
.tool-card .tool-status.coming { background:rgba(245,158,11,0.1); color:#f59e0b; }
.tool-section { margin-bottom:0.6rem; }
.tool-section-title { display:flex; align-items:center; gap:0.3rem; font-size:0.82rem; font-weight:700; margin-bottom:0.4rem; padding-bottom:0.2rem; border-bottom:1px solid var(--border-color); }
</style>
{% endblock %}

{% block content %}
<main class="lab-detail-main"><div class="lab-detail-container">
    {% url 'playground:lab_list' as lab_list_url %}
    {% include "playground/_lab_detail_header.html" with back_url=lab_list_url back_text="è¿”å›é¶åœºåˆ—è¡¨" title="AI çº¢é˜Ÿå·¥å…·ç®±" title_icon="ğŸ”´" subtitle="é›†æˆä¸šç•Œä¸»æµ LLM å®‰å…¨æµ‹è¯•å·¥å…·ï¼Œæ”¯æŒæœ¬åœ°æ¨¡å‹æ‰«æã€è¶Šç‹±æµ‹è¯•ã€å¯¹æŠ—æ”»å‡»ç­‰" %}

    <!-- æ¼æ´æ‰«æå™¨ -->
    <div class="tool-section">
        <h2 class="tool-section-title"><span>ğŸ”</span> æ¼æ´æ‰«æå™¨</h2>
        <div class="tool-grid">
            <a href="{% url 'playground:garak_scanner' %}" class="tool-card">
                <span class="tool-status ready">å¯ç”¨</span>
                <div class="tool-icon garak">ğŸ¦ˆ</div>
                <div class="tool-name">Garak Scanner</div>
                <div class="tool-desc">LLM æ¼æ´æ‰«æå™¨ï¼Œè‡ªåŠ¨æµ‹è¯•æç¤ºæ³¨å…¥ã€è¶Šç‹±ã€ä¿¡æ¯æ³„éœ²ç­‰ã€‚æ”¯æŒ Ollamaã€‚</div>
                <div class="tool-tags"><span class="tool-tag scanner">æ‰«æå™¨</span><span class="tool-tag attack">è‡ªåŠ¨åŒ–</span></div>
            </a>
            <a href="{% url 'playground:mcpscan_scanner' %}" class="tool-card">
                <span class="tool-status ready">å¯ç”¨</span>
                <div class="tool-icon mcpscan">ğŸ”¬</div>
                <div class="tool-name">MCPScan</div>
                <div class="tool-desc">MCP åè®®å¤šé˜¶æ®µå®‰å…¨æ‰«æï¼ˆèš‚èšé›†å›¢å¼€æºï¼‰ï¼ŒSemgrep + LLM åˆ†æã€‚</div>
                <div class="tool-tags"><span class="tool-tag scanner">æ‰«æå™¨</span><span class="tool-tag attack">MCP</span></div>
            </a>
            <div class="tool-card" style="opacity:0.6;cursor:default">
                <span class="tool-status coming">å³å°†æ¨å‡º</span>
                <div class="tool-icon llmguard">ğŸ›¡ï¸</div>
                <div class="tool-name">LLM Guard</div>
                <div class="tool-desc">è¾“å…¥/è¾“å‡ºå®‰å…¨æ‰«æå™¨ï¼Œæ£€æµ‹æ³¨å…¥ã€æ³„éœ²ã€æœ‰å®³å†…å®¹ã€‚</div>
                <div class="tool-tags"><span class="tool-tag detection">æ£€æµ‹</span><span class="tool-tag scanner">æ‰«æå™¨</span></div>
            </div>
        </div>
    </div>

    <!-- Payload åº“ -->
    <div class="tool-section">
        <h2 class="tool-section-title"><span>ğŸ’£</span> æ”»å‡» Payload åº“</h2>
        <div class="tool-grid">
            <a href="{% url 'playground:jailbreak_payloads' %}" class="tool-card">
                <span class="tool-status ready">å¯ç”¨</span>
                <div class="tool-icon payload">ğŸ”“</div>
                <div class="tool-name">è¶Šç‹± Payload åº“</div>
                <div class="tool-desc">æ”¶é›†æ•´ç†çš„ LLM è¶Šç‹±æç¤ºè¯ï¼ŒæŒ‰ç±»å‹åˆ†ç±»ï¼Œæ”¯æŒä¸€é”®æµ‹è¯•ã€‚</div>
                <div class="tool-tags"><span class="tool-tag payload">Payload</span><span class="tool-tag attack">è¶Šç‹±</span></div>
            </a>
            <div class="tool-card" style="opacity:0.6;cursor:default">
                <span class="tool-status coming">å³å°†æ¨å‡º</span>
                <div class="tool-icon payload">ğŸ’‰</div>
                <div class="tool-name">æ³¨å…¥ Payload åº“</div>
                <div class="tool-desc">æç¤ºæ³¨å…¥æ”»å‡» Payload é›†åˆï¼Œå«ç›´æ¥/é—´æ¥æ³¨å…¥ã€ä¸Šä¸‹æ–‡åŠ«æŒã€‚</div>
                <div class="tool-tags"><span class="tool-tag payload">Payload</span><span class="tool-tag attack">æ³¨å…¥</span></div>
            </div>
        </div>
    </div>

    <!-- é«˜çº§å·¥å…· -->
    <div class="tool-section">
        <h2 class="tool-section-title"><span>ğŸ§ª</span> é«˜çº§çº¢é˜Ÿå·¥å…·</h2>
        <div class="tool-grid">
            <a href="{% url 'playground:advanced_tools' %}" class="tool-card">
                <span class="tool-status ready">å¯ç”¨</span>
                <div class="tool-icon pyrit">ğŸ”¬</div>
                <div class="tool-name">PyRIT (Microsoft)</div>
                <div class="tool-desc">å¾®è½¯å¼€æº AI çº¢é˜Ÿå·¥å…·ï¼Œæ”¯æŒå¤šç§æ”»å‡»ç­–ç•¥ã€å¯¹è¯æ ‘ã€è‡ªåŠ¨åŒ–è¯„ä¼°ã€‚</div>
                <div class="tool-tags"><span class="tool-tag attack">çº¢é˜Ÿ</span><span class="tool-tag scanner">è‡ªåŠ¨åŒ–</span></div>
            </a>
            <a href="{% url 'playground:advanced_tools' %}" class="tool-card">
                <span class="tool-status ready">å¯ç”¨</span>
                <div class="tool-icon textattack">ğŸ“</div>
                <div class="tool-name">TextAttack</div>
                <div class="tool-desc">NLP å¯¹æŠ—æ”»å‡»æ¡†æ¶ï¼ŒåŒä¹‰è¯æ›¿æ¢ã€å­—ç¬¦æ‰°åŠ¨ã€è¯­ä¹‰ä¿æŒæ”»å‡»ã€‚</div>
                <div class="tool-tags"><span class="tool-tag attack">å¯¹æŠ—</span><span class="tool-tag attack">NLP</span></div>
            </a>
        </div>
    </div>

    <!-- ä½¿ç”¨è¯´æ˜ -->
    <div class="card">
        <div class="card-header py-1 px-2" style="cursor:pointer" onclick="this.nextElementSibling.classList.toggle('d-none')">
            <strong class="small">ğŸ“– ä½¿ç”¨è¯´æ˜</strong>
        </div>
        <div class="card-body d-none" style="padding:6px 10px;font-size:0.75rem">
            <div class="row g-2">
                <div class="col-md-4"><strong>ğŸ”§ ç¯å¢ƒå‡†å¤‡</strong><br><span class="text-muted">å®‰è£… Ollama å¹¶è¿è¡Œæ¨¡å‹ï¼Œæ¨è qwen2.5:7b æˆ–æ›´å¤§ã€‚</span></div>
                <div class="col-md-4"><strong>ğŸ¯ é€‰æ‹©å·¥å…·</strong><br><span class="text-muted">æ‰«æå™¨é€‚åˆå…¨é¢æ£€æµ‹ï¼ŒPayload åº“é€‚åˆå®šå‘æµ‹è¯•ã€‚</span></div>
                <div class="col-md-4"><strong>ğŸ“Š åˆ†æç»“æœ</strong><br><span class="text-muted">åˆ†ææ¼æ´æŠ¥å‘Šï¼Œäº†è§£æ¨¡å‹å®‰å…¨è¾¹ç•Œå’Œé£é™©ã€‚</span></div>
            </div>
        </div>
    </div>
</div></main>
{% endblock %}
